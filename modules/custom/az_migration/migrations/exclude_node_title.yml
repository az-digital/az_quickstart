id: exclude_node_title
label: Exclude node title config
migration_tags:
  - Quickstart Content Migration

source:
  plugin: variable
  variables:
    - exclude_node_title_nid_list
  source_module: exclude_node_title

process:
  nid_list:
    -
      plugin: get
      source: exclude_node_title_nid_list
    -
      plugin: multiple_values
    -
      plugin: migration_lookup
      migration:
        - az_node_carousel
        - az_node_event
        - az_node_flexible_page
        - az_node_news
        - az_node_person
    -
      plugin: single_value
    -
      plugin: callback
      callable: array_filter
    -
      plugin: callback
      callable: array_values

destination:
  plugin: config
  config_name: exclude_node_title.settings

migration_dependencies:
  required:
    - az_node_carousel
    - az_node_event
    - az_node_flexible_page
    - az_node_news
    - az_node_person
