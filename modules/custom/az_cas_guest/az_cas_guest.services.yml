services:
  az_cas_guest.manager:
    class: Drupal\az_cas_guest\Service\CasGuestManager
    arguments: ['@config.factory', '@entity_type.manager', '@logger.factory']
  
  az_cas_guest.pre_register_subscriber:
    class: Drupal\az_cas_guest\EventSubscriber\CasPreRegisterSubscriber
    arguments: ['@current_user', '@config.factory', '@logger.factory', '@request_stack', '@datetime.time', '@az_cas_guest.manager', '@user.authentication', '@session_manager']
    tags:
      - { name: event_subscriber }
  
  az_cas_guest.authentication:
    class: Drupal\az_cas_guest\Authentication\CasGuestAuthenticationService
    arguments: ['@config.factory', '@current_user', '@request_stack', '@datetime.time']
  
  az_cas_guest.forced_login_subscriber:
    class: Drupal\az_cas_guest\EventSubscriber\CasForcedLoginSubscriber
    arguments: ['@az_cas_guest.authentication']
    tags:
      - { name: event_subscriber }
  
  az_cas_guest.pre_redirect_subscriber:
    class: Drupal\az_cas_guest\EventSubscriber\CasPreRedirectSubscriber
    arguments: ['@request_stack']
    tags:
      - { name: event_subscriber }