/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/
(function (Drupal) {
  Drupal.behaviors.azFinderAccordionIndicators = {
    attach: function attach(context) {
      var toggles = once('az-filter-indicator', '.collapser.level-0', context);
      toggles.forEach(function (toggle) {
        var h3 = toggle.querySelector('h3');
        var collapseId = toggle.dataset.collapseId;
        var checkboxList = context.querySelector("#".concat(collapseId));
        if (!h3 || !checkboxList) return;
        var inputs = checkboxList.querySelectorAll('input[type="checkbox"]');
        var updateIndicator = function updateIndicator() {
          var count = Array.from(inputs).filter(function (input) {
            return input.checked;
          }).length;
          var badge = h3.querySelector('.js-az-finder-indicator');
          var svg = h3.querySelector('svg');
          if (count > 0) {
            if (!badge) {
              badge = document.createElement('span');
              badge.className = 'js-az-finder-indicator badge bg-azurite mx-2 small';
              badge.textContent = count;
            } else {
              badge.textContent = count;
            }
            if (svg && svg.parentNode === h3) {
              h3.insertBefore(badge, svg);
            }
          } else if (badge) {
            badge.remove();
          }
        };
        inputs.forEach(function (input) {
          return input.addEventListener('change', updateIndicator, {
            passive: true
          });
        });
        updateIndicator();
      });
    }
  };
})(Drupal);