!function($,C,c,p){"use strict";var k="media",t="b-"+k,l=t,m="iframe",z=k+"--player",h="is-"+t,g="."+z,d=g+":not(."+h+")",N=k+"__icon",y="."+N+"--play",b="is-playing",u="is-b-player-playing",a="data-",f=a+m+"-title",v=a+"b-url",w="b-instagram",P=$.multimedia||!1;function e(d){var r,s,o,n,a=$(d),e=a.find(m),i=a.find(y);$.isElm(i)&&(r=$.attr(i,v),s=$.attr(i,f),o=a.hasClass(w),r&&$.sanitizer.isDangerous("src",r)||($.remove(e),a.on("click."+t,y,function(a){if(a.preventDefault(),!r)return!1;P&&P.pause();var e,i="."+b+":not(."+w+")",t=$.find(p,i),l=this.parentNode;$.isElm(t)&&(i=$.find(p,i+" "+m),$.remove(i),t.className=t.className.replace(/(\S+)playing/,"")),$.addClass(l,b),o||(a=(l=a).target,e=$.closest(a,g),l=$.find(e,m),r=$.attr(a,v),s=$.attr(a,f),$.remove(l),c.setTimeout(function(){n||(n=$.create(m,"media__element"),$.attr(n,{src:r,allow:"autoplay; fullscreen",title:C.checkPlain(s)})),e.appendChild(n),$.addClass(p.body,u),$.trigger(c,"blazy:mediaPlaying",{player:e})}))}),a.on("click."+t,".media__icon--close",function(a){if(a.preventDefault(),o)return $.addClass(this,"visually-hidden"),!1;var e=this.parentNode,a=$.find(e,m);e.className.match(b)&&(e.className=e.className.replace(/(\S+)playing/,"")),$.remove(a),$.removeClass(p.body,u),$.trigger(c,"blazy:mediaStopped",{player:e})}),$.on(c,"resize."+t+" orientationchange."+t,$.debounce(function(){var a=$.windowSize(),e=$.parse(d.dataset.bMp),i=$.matchMedia("1024px")&&!e.fs?15:0,t=e.owidth,l=e.oheight,a=$.image.scale(t,l,a.width-i,a.height-i),i=d.parentNode,t=a.width>t?t:a.width;$.hasClass(i,"media-wrapper")&&(i.style.width=t+"px",e.ratio!==e.oratio&&(d.style.padding="padding-bottom: "+e.ratio+"%"))},210)),$.removeClass(p.body,u),a.addClass(h)))}C.theme.blazyMedia=function(a){var e=a.el||a.element,i=$(e),t=$.image.alt(e),l=$.parse($.attr(e,"data-b-"+k)),d=l.provider,r=l.token,s=$.toInt(l.width,640),o=$.toInt(l.height,360),n=$.image.ratio(l),c=i.attr("data-box-url"),p=e.href,m=i.attr("data-oembed-url",p,!0),h=k+"__element",g=a.imgClass?h+" "+a.imgClass:h,y=l.id?" media--"+l.id:"",b=l.playable||"iframe"===l.boxType?" "+z:"",u=C.t("Stop and close the video"),f=C.t("Load and play the video"),v="",w="",e=$.windowSize(),i=l.fs||!1,p=$.matchMedia("1024px")&&!i?15:0,h=$.image.scale(s,o,e.width-p,e.height-p),l=o,e=s,p="",i={width:s=h.width>s?s:h.width,height:o=h.height>o?o:h.height,ratio:(o/s*100).toFixed(2),owidth:e,oheight:l,oratio:n,fs:i},i=C.checkPlain(JSON.stringify(i));return c&&(p+='<img src="$imgUrl" class="$imgClass" alt="$alt" loading="lazy" decoding="async" />'),b&&(d&&(v=' data-b-provider="'+d+'"'),r&&(w=' data-b-token="'+r+'"'),p+='<span class="$icon $icon--close" aria-label="$ariaClose"></span>',p+='<span class="$icon $icon--play" data-b-url="$oembed" data-iframe-title="$alt" aria-label="$ariaPlay"$bProvider$bToken></span>'),p='<div class="$md $idClass $md--switch $player $md--ratio $md--ratio--fluid" aria-live="polite" style="padding-bottom: $pad%" data-b-mp="$mp">'+p+"</div>",a.unwrap||(p='<div class="$wrapper $wrapper--inline" style="width: $widthpx">'+p+"</div>"),$.template(p,{md:k,icon:N,ariaClose:C.checkPlain(u),ariaPlay:C.checkPlain(f),bProvider:v,bToken:w,idClass:y,player:b,pad:n,mp:i,imgUrl:c,imgClass:g,alt:t,oembed:m,width:s,wrapper:k+"-wrapper"})},C.behaviors.blazyMedia={attach:function(a){$.once(e,l,d,a)},detach:function(a,e,i){"unload"===i&&($.removeClass(p.body,u),$.once.removeSafely(l,d,a))}}}(dBlazy,Drupal,this,this.document);
